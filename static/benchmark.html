<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MiniWeb Benchmark Report</title>
  <link rel="stylesheet" href="/static/css/custom.css" />
  <style>
    .benchmark-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; margin: 1rem 0 1.5rem; }
    .stat-card h3 { margin: 0 0 .35rem; font-size: .95rem; color: var(--text-muted); }
    .stat-card p { margin: 0; font-size: 1.3rem; font-weight: 700; }
    .graphs { display:grid; gap: 1rem; }
    .graph img { width:100%; height:auto; border:1px solid var(--border); border-radius: .8rem; background-color: #ccc; }
    .details { overflow:auto; }
    table { width:100%; border-collapse: collapse; }
    th, td { text-align:left; padding: .55rem .6rem; border-bottom: 1px solid var(--border); font-size: .95rem; }
    th { color: var(--text-muted); font-weight: 600; }
    .meta { font-size: .95rem; color: var(--text-muted); }
    code { background: var(--surface-2); padding: 0.1rem 0.4rem; border-radius: .4rem; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-row">
      <a class="brand" href="/">MiniWeb</a>
      <nav class="navbar-menu"><a class="nav-link active" href="/static/benchmark.html">Benchmark</a></nav>
      <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme">◐</button>
    </div>
  </header>

  <main class="app-shell">
    <div class="container">
      <section class="panel">
        <h1>Benchmark Report</h1>
        <p class="meta">Generated: 2026-02-14 15:30:50 · Target URL: <code>http://localhost:9001/api/man/sections</code> · Duration: 30s · Threads: 4</p>

        <div class="benchmark-grid">
          <article class="panel stat-card"><h3>Peak throughput</h3><p>8916.78 req/s</p><span class="muted">at  connections</span></article>
          <article class="panel stat-card"><h3>Best avg latency</h3><p>0.550 ms</p><span class="muted">at  connections</span></article>
          <article class="panel stat-card"><h3>Worst max latency</h3><p>66.320 ms</p><span class="muted">at  connections</span></article>
        </div>

        <div class="graphs">
          <article class="graph"><h2>Throughput</h2><img src="/static/benchmark_assets/throughput.svg" alt="Throughput graph"></article>
          <article class="graph"><h2>Latency (avg vs max)</h2><img src="/static/benchmark_assets/latency.svg" alt="Latency graph"></article>
          <article class="graph"><h2>Latency standard deviation</h2><img src="/static/benchmark_assets/latency_stdev.svg" alt="Latency deviation graph"></article>
          <article class="graph"><h2>Transfer rate</h2><img src="/static/benchmark_assets/transfer.svg" alt="Transfer graph"></article>
          <article class="graph"><h2>Connection efficiency</h2><img src="/static/benchmark_assets/efficiency.svg" alt="Efficiency graph"></article>
        </div>
      </section>

      <section class="panel details" style="margin-top:1rem;">
        <h2>Detailed run stats</h2>
        <table>
          <thead>
            <tr>
              <th>Connections</th>
              <th>Req/sec</th>
              <th>Avg latency (ms)</th>
              <th>StdDev (ms)</th>
              <th>Max latency (ms)</th>
              <th>Transfer (MB/s)</th>
              <th>Total requests</th>
              <th>Non-2xx/3xx</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>4</td><td>4454.61</td><td>0.550</td><td>0.384</td><td>16.730</td><td>5.080</td><td>133769</td><td>0</td></tr>
            <tr><td>8</td><td>4028.15</td><td>0.940</td><td>1.300</td><td>15.510</td><td>4.590</td><td>121036</td><td>0</td></tr>
            <tr><td>16</td><td>8916.78</td><td>1.160</td><td>0.533</td><td>13.880</td><td>10.170</td><td>267559</td><td>0</td></tr>
            <tr><td>32</td><td>6549.22</td><td>3.420</td><td>1.610</td><td>20.200</td><td>7.470</td><td>196678</td><td>0</td></tr>
            <tr><td>64</td><td>7461.42</td><td>7.670</td><td>1.810</td><td>27.500</td><td>8.510</td><td>224239</td><td>0</td></tr>
            <tr><td>128</td><td>5286.95</td><td>14.040</td><td>2.560</td><td>31.790</td><td>6.030</td><td>158981</td><td>0</td></tr>
            <tr><td>256</td><td>386.63</td><td>34.150</td><td>8.740</td><td>66.320</td><td>0.441</td><td>11631</td><td>0</td></tr>
          </tbody>
        </table>
      </section>
    </div>
  </main>
  <script src="/static/js/theme_toggler.js"></script>
</body>
</html>
